<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Floor Plans | Ivory University House</title>
  <link href="https://fonts.googleapis.com/css?family=Oswald:300,400,500,600,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="build/output.css">
  <script>
        document.addEventListener("DOMContentLoaded", function() {
            window.addEventListener("scroll", function() {
                let navbar = document.querySelector(".navbar");
                if (window.scrollY > 50) {
                    navbar.classList.add("scrolled");
                } else {
                    navbar.classList.remove("scrolled");
                }
            });
        });
  </script>
<style>
    .nav-contact { position: relative; }
    .nav-contact .dropdown { position: absolute; right: 0; top: 100%; opacity: 0; visibility: hidden; transform: translateY(4px); transition: opacity .15s ease-out, transform .15s ease-out, visibility .15s; z-index: 40; }
    .nav-contact:hover .dropdown { opacity: 1; visibility: visible; transform: translateY(0); }
    .nav-contact.open .dropdown { opacity: 1; visibility: visible; transform: translateY(0); }
  </style>
</head>
<body class="bg-brand-gray font-sans">
  <header class="fixed top-0 left-0 w-full z-50">
        <div class="w-full bg-brand-blue text-white text-center font-extrabold text-base md:text-lg h-12 md:h-16 tracking-wide flex items-center justify-center border-b-4 border-brand-yellow shadow-2xl">
            <span class="drop-shadow-lg">Limited availability. <span class="mx-2">SOLD OUT OF <span class="underline">A1</span> and <span class="underline">C1</span> UNITS</span></span>
        </div>
        <nav class="navbar w-full h-20 bg-brand-red bg-opacity-100 flex items-center shadow-md">
        <div class="w-full flex items-center justify-start px-8 relative max-w-7xl mx-auto">
            <a class="block mr-8" href="index.html">
                <img src="images/IvoryUniversityHouse_PrimaryLogo_FullColorWhiteText_Opt1.png" alt="Ivory University House logo" loading="lazy" class="h-14 w-auto block mx-auto">
            </a>
            <ul class="flex items-center ml-auto space-x-4 flex-nowrap">
                <li><a class="text-white font-oswald font-semibold text-lg hover:text-brand-yellow transition whitespace-nowrap" href="./our_impact.html">Our Impact</a></li>
                <li><a class="text-white font-oswald font-semibold text-lg hover:text-brand-yellow transition whitespace-nowrap" href="./gallery.html">Photo Gallery</a></li>
                <li><a class="text-white font-oswald font-semibold text-lg hover:text-brand-yellow transition" href="./scholarship.html">Scholarship</a></li>
                <li><a class="text-white font-oswald font-semibold text-lg hover:text-brand-yellow transition whitespace-nowrap" href="./floorplan.html">Floorplan</a></li>
                <li class="relative nav-contact">
                    <a href="#" class="text-white font-oswald font-semibold text-lg hover:text-brand-yellow transition inline-flex items-center whitespace-nowrap">
                        Contact Us
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 ml-1">
                            <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.25 8.29a.75.75 0 01-.02-1.08z" clip-rule="evenodd" />
                        </svg>
                    </a>
                    <div class="dropdown absolute right-0 w-56 bg-white text-brand-blue rounded-md shadow-xl border border-brand-yellow z-40">
                        <a href="./corevalues.html" class="block px-4 py-2 font-oswald font-semibold hover:bg-brand-yellow hover:text-brand-blue transition">Core Values</a>
                        <a href="./interview-process.html" class="block px-4 py-2 font-oswald font-semibold hover:bg-brand-yellow hover:text-brand-blue transition">Interview Process</a>
                    </div>
                </li>
                <li><a class="bg-brand-yellow text-brand-blue font-bold px-4 py-2 rounded hover:bg-brand-yellow hover:text-brand-blue transition shadow border-2 border-brand-blue" href="https://ivoryuniversityhouseslc.residentportal.com/auth">Resident Portal</a></li>
                <li><a class="bg-brand-blue text-white font-bold px-4 py-2 rounded hover:bg-brand-yellow hover:text-brand-blue transition shadow border-2 border-brand-yellow" href="https://ivoryuniversityhouse.prospectportal.com/Apartments/module/application_authentication/?_gl=1*ki3398*_ga*MjEwOTc0MDIwMC4xNzQxNjQ3NjUw*_ga_5QRKCY2ZWW*czE3NDg1Mzk4MTQkbzYkZzAkdDE3NDg1Mzk4MTQkajYwJGwwJGgw">Apply Now</a></li>
            </ul>
        </div>
    </nav>
    </header>
    <!-- Contact Overlay -->
    <div id="contactOverlay" class="fixed inset-0 z-[60] hidden">
      <div class="absolute inset-0 bg-black/70" id="contactOverlayBackdrop"></div>
      <div class="relative z-10 flex items-start justify-center pt-28 px-5">
        <div class="w-full max-w-3xl bg-white rounded-2xl shadow-2xl border-4 border-brand-yellow overflow-hidden">
          <div class="flex items-center justify-between bg-brand-red text-white px-6 py-4">
            <h2 class="font-oswald font-extrabold text-xl tracking-wide">Get in Touch</h2>
            <button id="contactOverlayClose" class="text-white text-2xl leading-none hover:text-brand-yellow" aria-label="Close">&times;</button>
          </div>
          <div class="p-6 grid grid-cols-1 sm:grid-cols-2 gap-4">
            <a href="./corevalues.html" class="block rounded-lg border border-brand-blue p-4 hover:bg-brand-yellow hover:text-brand-blue transition">
              <div class="font-oswald font-bold text-brand-blue text-lg">Core Values</div>
              <div class="text-sm text-brand-blue/80">Learn about our guiding principles</div>
            </a>
            <a href="#" class="block rounded-lg border border-brand-blue p-4 hover:bg-brand-yellow hover:text-brand-blue transition">
              <div class="font-oswald font-bold text-brand-blue text-lg">Book a Tour</div>
              <div class="text-sm text-brand-blue/80">Schedule a visit</div>
            </a>
            <a href="https://ivoryuniversityhouseslc.residentportal.com/auth" target="_blank" class="block rounded-lg border border-brand-blue p-4 hover:bg-brand-yellow hover:text-brand-blue transition">
              <div class="font-oswald font-bold text-brand-blue text-lg">Resident Portal</div>
              <div class="text-sm text-brand-blue/80">Current residents</div>
            </a>
            <a href="./floorplan.html" class="block rounded-lg border border-brand-blue p-4 hover:bg-brand-yellow hover:text-brand-blue transition">
              <div class="font-oswald font-bold text-brand-blue text-lg">Floorplans</div>
              <div class="text-sm text-brand-blue/80">See layouts</div>
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="mt-[132px] md:mt-[148px]"></div>

  <!-- Floorplan window -->
  <section class="max-w-6xl mx-auto bg-white rounded-2xl shadow-xl px-4 md:px-6 py-8 md:py-12 mt-8">
    <!-- Filters -->
    <div id="floorplanFilters" class="flex flex-wrap items-center justify-center gap-3 mb-5">
      <button class="floorplan-filter-btn rounded-full font-semibold text-base px-6 py-2 border-2 border-brand-yellow bg-white text-black data-[active=true]:bg-brand-yellow data-[active=true]:border-brand-red" data-filter="all" data-active="true">All</button>
      <button class="floorplan-filter-btn rounded-full font-semibold text-base px-6 py-2 border-2 border-brand-yellow bg-white text-black" data-filter="studio">Studio</button>
      <button class="floorplan-filter-btn rounded-full font-semibold text-base px-6 py-2 border-2 border-brand-yellow bg-white text-black" data-filter="3br">3 Bedroom</button>
    </div>

    <!-- View toggle -->
    <div class="flex items-center justify-end gap-2 mb-4">
      <button id="gridViewBtn" class="w-9 h-9 rounded-full bg-brand-yellow text-black font-bold" title="Grid View">G</button>
      <button id="listViewBtn" class="w-9 h-9 rounded-full bg-white text-black border border-brand-yellow" title="List View">L</button>
    </div>

    <!-- Cards container -->
    <div id="floorplanGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- A1 -->
      <div class="floorplan-card bg-white rounded-2xl shadow hover:shadow-xl transition overflow-hidden min-h-[420px]" data-type="studio">
        <img src="./images/A1.png" alt="Studio A1 Floorplan" class="w-full h-56 object-cover bg-brand-gray">
        <div class="p-5 flex flex-col justify-between h-[calc(100%-14rem)]">
          <div>
            <div class="text-xl font-oswald font-bold text-brand-green mb-1">Studio A1</div>
            <div class="text-base text-black mb-1">Studio • 1 Bath • 420 sq ft</div>
            <div class="text-brand-blue mb-1">Contact for pricing</div>
          </div>
          <button class="btn-view-details bg-brand-red text-white px-4 py-2 rounded font-bold w-max" data-title="Studio A1" data-img="images/A1.png" data-info="Studio • 1 Bath • 420 sq ft" data-details="Contact for pricing" data-description="Studio A1 offers a modern, open-concept living space with a private bathroom and in-unit laundry.">View Details</button>
        </div>
      </div>
      <!-- A2 -->
      <div class="floorplan-card bg-white rounded-2xl shadow hover:shadow-xl transition overflow-hidden min-h-[420px]" data-type="studio">
        <img src="./images/A2.png" alt="Studio A2 Floorplan" class="w-full h-56 object-cover bg-brand-gray">
        <div class="p-5 flex flex-col justify-between h-[calc(100%-14rem)]">
          <div>
            <div class="text-xl font-oswald font-bold text-brand-green mb-1">Studio A2</div>
            <div class="text-base text-black mb-1">Studio • 1 Bath • 420 sq ft</div>
            <div class="text-brand-blue mb-1">Contact for pricing</div>
          </div>
          <button class="btn-view-details bg-brand-red text-white px-4 py-2 rounded font-bold w-max" data-title="Studio A2" data-img="images/A2.png" data-info="Studio • 1 Bath • 420 sq ft" data-details="Contact for pricing" data-description="Studio A2 features a similar layout to A1 with a modern kitchen, private bath, and in-unit laundry.">View Details</button>
        </div>
      </div>
      <!-- B1 -->
      <div class="floorplan-card bg-white rounded-2xl shadow hover:shadow-xl transition overflow-hidden min-h-[420px]" data-type="studio">
        <img src="./images/B1.png" alt="Studio B1 Floorplan" class="w-full h-56 object-cover bg-brand-gray">
        <div class="p-5 flex flex-col justify-between h-[calc(100%-14rem)]">
          <div>
            <div class="text-xl font-oswald font-bold text-brand-green mb-1">Studio B1</div>
            <div class="text-base text-black mb-1">Studio • 1 Bath • 420 sq ft</div>
            <div class="text-brand-blue mb-1">Contact for pricing</div>
          </div>
          <button class="btn-view-details bg-brand-red text-white px-4 py-2 rounded font-bold w-max" data-title="Studio B1" data-img="images/B1.png" data-info="Studio • 1 Bath • 420 sq ft" data-details="Contact for pricing" data-description="Studio B1 is a studio layout with a modern kitchen, private bath, and in-unit laundry.">View Details</button>
        </div>
      </div>
      <!-- C1 -->
      <div class="floorplan-card bg-white rounded-2xl shadow hover:shadow-xl transition overflow-hidden min-h-[420px]" data-type="studio">
        <img src="./images/C1.png" alt="Studio C1 Floorplan" class="w-full h-56 object-cover bg-brand-gray">
        <div class="p-5 flex flex-col justify-between h-[calc(100%-14rem)]">
          <div>
            <div class="text-xl font-oswald font-bold text-brand-green mb-1">Studio C1</div>
            <div class="text-base text-black mb-1">Studio • 1 Bath • 420 sq ft</div>
            <div class="text-brand-blue mb-1">Contact for pricing</div>
          </div>
          <button class="btn-view-details bg-brand-red text-white px-4 py-2 rounded font-bold w-max" data-title="Studio C1" data-img="images/C1.png" data-info="Studio • 1 Bath • 420 sq ft" data-details="Contact for pricing" data-description="Studio C1 offers a spacious studio layout with a private bathroom and in-unit laundry.">View Details</button>
        </div>
      </div>
      <!-- C2 -->
      <div class="floorplan-card bg-white rounded-2xl shadow hover:shadow-xl transition overflow-hidden min-h-[420px]" data-type="studio">
        <img src="./images/c2.png" alt="Studio C2 Floorplan" class="w-full h-56 object-cover bg-brand-gray">
        <div class="p-5 flex flex-col justify-between h-[calc(100%-14rem)]">
          <div>
            <div class="text-xl font-oswald font-bold text-brand-green mb-1">Studio C2</div>
            <div class="text-base text-black mb-1">Studio • 1 Bath • 420 sq ft</div>
            <div class="text-brand-blue mb-1">Contact for pricing</div>
          </div>
          <button class="btn-view-details bg-brand-red text-white px-4 py-2 rounded font-bold w-max" data-title="Studio C2" data-img="images/c2.png" data-info="Studio • 1 Bath • 420 sq ft" data-details="Contact for pricing" data-description="Studio C2 features a modern studio layout with a private bath and in-unit laundry.">View Details</button>
        </div>
      </div>
      <!-- C3 (uses same image as c2.png for now) -->
      <div class="floorplan-card bg-white rounded-2xl shadow hover:shadow-xl transition overflow-hidden min-h-[420px]" data-type="studio">
        <img src="./images/c2.png" alt="Studio C3 Floorplan" class="w-full h-56 object-cover bg-brand-gray">
        <div class="p-5 flex flex-col justify-between h-[calc(100%-14rem)]">
          <div>
            <div class="text-xl font-oswald font-bold text-brand-green mb-1">Studio C3</div>
            <div class="text-base text-black mb-1">Studio • 1 Bath • 420 sq ft</div>
            <div class="text-brand-blue mb-1">Contact for pricing</div>
          </div>
          <button class="btn-view-details bg-brand-red text-white px-4 py-2 rounded font-bold w-max" data-title="Studio C3" data-img="images/c2.png" data-info="Studio • 1 Bath • 420 sq ft" data-details="Contact for pricing" data-description="Studio C3 provides a studio layout with a large living area and in-unit laundry.">View Details</button>
        </div>
      </div>
      <!-- D1 (3x3) -->
      <div class="floorplan-card bg-white rounded-2xl shadow hover:shadow-xl transition overflow-hidden min-h-[420px]" data-type="3br">
        <img src="./images/D1.jpg" alt="D1 Floorplan" class="w-full h-56 object-cover bg-brand-gray">
        <div class="p-5 flex flex-col justify-between h-[calc(100%-14rem)]">
          <div>
            <div class="text-xl font-oswald font-bold text-brand-green mb-1">D1</div>
            <div class="text-base text-black mb-1">3 Bed • 3 Bath • 1,170 sq ft</div>
            <div class="text-brand-blue mb-1">Contact for pricing</div>
          </div>
          <button class="btn-view-details bg-brand-red text-white px-4 py-2 rounded font-bold w-max" data-title="D1" data-img="images/D1.jpg" data-info="3 Bed • 3 Bath • 1,170 sq ft" data-details="Contact for pricing" data-description="D1 is a spacious 3-bedroom, 3-bath floor plan with private bedrooms, modern kitchen, and in-unit laundry.">View Details</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Modal backdrop -->
  <div id="floorplanModalBackdrop" class="fixed inset-0 bg-black/85 hidden items-center justify-center z-50">
    <div class="relative bg-white rounded-2xl w-[96vw] max-w-[760px] max-h-[90vh] overflow-y-auto p-6 shadow-2xl">
      <button id="floorplanModalClose" class="absolute top-3 right-3 w-9 h-9 rounded-full bg-brand-red text-white text-xl" aria-label="Close">&times;</button>
      <img id="modalImg" src="" alt="Floorplan Large" class="w-full max-h-80 object-contain bg-brand-gray rounded-md mb-4 cursor-zoom-in">
      <div id="modalTitle" class="text-2xl font-oswald font-bold text-brand-green mb-2"></div>
      <div id="modalInfo" class="text-base text-black mb-1"></div>
      <div id="modalDetails" class="text-brand-blue mb-3"></div>
      <div id="modalDescription" class="text-black/90"></div>

      <!-- Virtual Tour (D1 only) -->
      <div id="virtualTourContainer" class="hidden mt-5">
        <div class="flex items-center justify-between mb-2">
          <span class="font-semibold text-brand-green">Virtual Tour</span>
          <button id="virtualTourFullscreenBtn" class="bg-brand-cyan text-white px-3 py-1 rounded">View Fullscreen</button>
        </div>
        <div class="w-full overflow-hidden rounded-xl shadow">
          <div class="relative" style="padding-bottom:56.25%">
            <iframe id="virtualTourIframe" src="" allowfullscreen loading="lazy" title="D1 Virtual Tour" class="absolute inset-0 w-full h-full border-0"></iframe>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Image Lightbox -->
  <div id="lightboxOverlay" class="fixed inset-0 bg-black/95 hidden items-center justify-center z-50">
    <img id="lightboxImg" src="" alt="Floorplan Fullscreen" class="max-w-[90vw] max-h-[90vh] rounded-xl shadow-2xl cursor-zoom-out">
  </div>

  <!-- Footer -->
  <footer class="w-screen bg-black text-white mt-16 rounded-t-2xl shadow-lg p-0 relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw]">
    <div class="max-w-6xl mx-auto flex flex-wrap flex-row justify-between items-start py-10 px-5 gap-10">
      <div class="flex-1 min-w-[200px] flex items-center justify-center">
        <img src="images/LOGO_IvoryHouse_1C-Cream_Mv1a.webp" alt="Ivory University House logo" loading="lazy" class="max-w-[180px] min-w-[100px] w-full rounded-lg block mx-auto shadow-md">
      </div>
      <div class="flex-1 min-w-[200px]">
        <h3 class="text-lg font-bold text-yellow-400 mb-2">OFFICE HOURS</h3>
        <p>M-F 9AM - 6PM</p>
        <p>SAT 10AM - 2PM</p>
        <p>SUN CLOSED</p>
      </div>
      <div class="flex-1 min-w-[200px]">
        <h3 class="text-lg font-bold text-yellow-400 mb-2">CONTACT US</h3>
        <p>434 S Mario Capecchi Drive</p>
        <p>Salt Lake City, UT 84112</p>
        <p class="font-bold">CALL OR TEXT (801) 396-0093</p>
        <div class="flex gap-4 mt-3">
          <a href="https://facebook.com" target="_blank" aria-label="Facebook" class="inline-block"><img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/facebook.svg" alt="Facebook logo" loading="lazy" class="w-7 h-7 grayscale brightness-110 hover:grayscale-0 transition"></a>
          <a href="https://twitter.com" target="_blank" aria-label="Twitter" class="inline-block"><img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/twitter.svg" alt="Twitter logo" loading="lazy" class="w-7 h-7 grayscale brightness-110 hover:grayscale-0 transition"></a>
          <a href="https://instagram.com" target="_blank" aria-label="Instagram" class="inline-block"><img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/instagram.svg" alt="Instagram logo" loading="lazy" class="w-7 h-7 grayscale brightness-110 hover:grayscale-0 transition"></a>
          <a href="https://tiktok.com" target="_blank" aria-label="TikTok" class="inline-block"><img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/tiktok.svg" alt="TikTok logo" loading="lazy" class="w-7 h-7 grayscale brightness-110 hover:grayscale-0 transition"></a>
        </div>
      </div>
    </div>
    <div class="text-center text-gray-400 text-sm mt-6 mb-2">
      &copy; Ivory University House, All Rights Reserved. | <a href="/privacy.html" class="underline text-gray-400">Privacy Policy</a>
    </div>
  </footer>

  <script>
    // Filtering
    const filterBtns = document.querySelectorAll('.floorplan-filter-btn');
    const cards = document.querySelectorAll('.floorplan-card');
    filterBtns.forEach(btn => {
      btn.addEventListener('click', function () {
        filterBtns.forEach(b => b.removeAttribute('data-active'));
        this.setAttribute('data-active', 'true');
        const f = this.getAttribute('data-filter');
        cards.forEach(card => {
          card.style.display = (f === 'all' || card.getAttribute('data-type') === f) ? '' : 'none';
        });
      });
    });

    // View toggle
    const gridBtn = document.getElementById('gridViewBtn');
    const listBtn = document.getElementById('listViewBtn');
    const grid = document.getElementById('floorplanGrid');
    gridBtn.addEventListener('click', () => {
      grid.classList.remove('flex', 'flex-col');
      grid.classList.add('grid', 'grid-cols-1', 'sm:grid-cols-2', 'lg:grid-cols-3');
      gridBtn.classList.add('bg-brand-yellow');
      listBtn.classList.remove('bg-brand-yellow');
    });
    listBtn.addEventListener('click', () => {
      grid.classList.remove('grid', 'grid-cols-1', 'sm:grid-cols-2', 'lg:grid-cols-3');
      grid.classList.add('flex', 'flex-col');
      gridBtn.classList.remove('bg-brand-yellow');
      listBtn.classList.add('bg-brand-yellow');
    });

    // Modal
    const modalBackdrop = document.getElementById('floorplanModalBackdrop');
    const modalClose = document.getElementById('floorplanModalClose');
    const modalImg = document.getElementById('modalImg');
    const modalTitle = document.getElementById('modalTitle');
    const modalInfo = document.getElementById('modalInfo');
    const modalDetails = document.getElementById('modalDetails');
    const modalDescription = document.getElementById('modalDescription');

    const virtualTourContainer = document.getElementById('virtualTourContainer');
    const virtualTourIframe = document.getElementById('virtualTourIframe');
    const virtualTourFullscreenBtn = document.getElementById('virtualTourFullscreenBtn');
    let currentTourUrl = '';

    document.querySelectorAll('.btn-view-details').forEach(btn => {
      btn.addEventListener('click', function (e) {
        e.stopPropagation();
        modalImg.src = this.getAttribute('data-img');
        modalTitle.textContent = this.getAttribute('data-title');
        modalInfo.textContent = this.getAttribute('data-info');
        modalDetails.textContent = this.getAttribute('data-details');
        modalDescription.textContent = this.getAttribute('data-description');

        if (this.getAttribute('data-title') === 'D1') {
          currentTourUrl = 'https://tour.theviewvr.com/?locationId=3528';
          virtualTourContainer.classList.remove('hidden');
          virtualTourIframe.src = currentTourUrl;
        } else {
          virtualTourContainer.classList.add('hidden');
          virtualTourIframe.src = '';
          currentTourUrl = '';
        }

        modalBackdrop.classList.remove('hidden');
        modalBackdrop.classList.add('flex');
      });
    });

    virtualTourFullscreenBtn.addEventListener('click', function (e) {
      e.stopPropagation();
      if (currentTourUrl) {
        window.open(currentTourUrl, '_blank');
      }
    });

    function closeModal() {
      modalBackdrop.classList.add('hidden');
      modalBackdrop.classList.remove('flex');
      modalImg.src = '';
      virtualTourContainer.classList.add('hidden');
      virtualTourIframe.src = '';
      currentTourUrl = '';
    }

    modalClose.addEventListener('click', closeModal);
    modalBackdrop.addEventListener('click', function (e) { if (e.target === modalBackdrop) closeModal(); });
    document.addEventListener('keydown', function (e) { if (!modalBackdrop.classList.contains('hidden') && e.key === 'Escape') closeModal(); });

    // Lightbox for modal image
    const lightboxOverlay = document.getElementById('lightboxOverlay');
    const lightboxImg = document.getElementById('lightboxImg');

    modalImg.addEventListener('click', function () {
      if (!modalImg.src) return;
      lightboxImg.src = modalImg.src;
      lightboxOverlay.classList.remove('hidden');
      lightboxOverlay.classList.add('flex');
    });

    lightboxOverlay.addEventListener('click', function () {
      lightboxOverlay.classList.add('hidden');
      lightboxOverlay.classList.remove('flex');
      lightboxImg.src = '';
    });

    document.addEventListener('keydown', function (e) {
      if (!lightboxOverlay.classList.contains('hidden') && e.key === 'Escape') {
        lightboxOverlay.classList.add('hidden');
        lightboxOverlay.classList.remove('flex');
        lightboxImg.src = '';
      }
    });
  </script>
<script>
document.addEventListener('DOMContentLoaded', function () {
  const toggle = document.getElementById('contactToggle');
  const overlay = document.getElementById('contactOverlay');
  const closeBtn = document.getElementById('contactOverlayClose');
  const backdrop = document.getElementById('contactOverlayBackdrop');

  function openOverlay() {
    if (!overlay) return;
    overlay.classList.remove('hidden');
    document.body.classList.add('overflow-hidden');
    if (toggle) toggle.setAttribute('aria-expanded','true');
  }
  function closeOverlay() {
    if (!overlay) return;
    overlay.classList.add('hidden');
    document.body.classList.remove('overflow-hidden');
    if (toggle) toggle.setAttribute('aria-expanded','false');
  }

  if (toggle) {
    toggle.addEventListener('click', function(e){ e.preventDefault(); openOverlay(); });
  }
  if (closeBtn) closeBtn.addEventListener('click', closeOverlay);
  if (backdrop) backdrop.addEventListener('click', closeOverlay);
  document.addEventListener('keydown', function(e){ if(e.key==='Escape') closeOverlay(); });
});
</script>
<script>
// Click fallback for Contact Us dropdown (works on touch devices)
document.addEventListener('DOMContentLoaded', function(){
  var navContact = document.querySelector('.nav-contact');
  if (!navContact) return;
  var trigger = navContact.querySelector('a');
  trigger.addEventListener('click', function(e){
    e.preventDefault();
    navContact.classList.toggle('open');
  });
  document.addEventListener('click', function(e){
    if (!navContact.contains(e.target)) {
      navContact.classList.remove('open');
    }
  });
});
</script>
</body>
</html>
