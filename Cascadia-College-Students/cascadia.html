
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cascadia Student Housing</title>
    <meta name="description" content="Modern student housing at Horizon Hall for Cascadia College students. Private and double rooms available for all Cascadia students.">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
    <style>
        :root {
            --casc-blue: #003057;
            --casc-bg: #effbfe;
            --casc-white: #ffffff;
            --casc-card-shadow: 0 8px 32px rgba(0,48,87,0.10);
        }
        html {
            scroll-padding-top: 80px; /* Offset for fixed navbar */
        }
        html, body {
            background: var(--casc-bg);
            font-family: 'Open Sans', 'Inter', 'Montserrat', Arial, sans-serif;
            color: var(--casc-blue);
            margin: 0;
            padding: 0;
            width: 100vw;
            max-width: 100vw;
            overflow-x: hidden;
        }
        /* Navbar */
        .uhd-navbar {
            background: var(--casc-white);
            box-shadow: 0 4px 24px rgba(0,48,87,0.10);
            padding: 0.75rem 0;
        }
        .uhd-navbar .navbar-brand {
            font-weight: 800;
            font-size: 1.3rem;
            color: var(--casc-blue) !important;
            letter-spacing: -1px;
            display: flex;
            align-items: center;
        }
        .uhd-navbar .navbar-logo {
            height: 38px;
            margin-left: 1rem;
        }
        .uhd-navbar .nav-link {
            color: var(--casc-blue) !important;
            font-weight: 600;
            margin-left: 1.5rem;
            font-size: 1.08rem;
        }
        .uhd-navbar .nav-link.active, .uhd-navbar .nav-link:hover {
            color: var(--casc-blue) !important;
        }
        /* Hero */
        .uhd-hero-section {
            position: relative;
            width: 100vw;
            min-height: 38vh; /* reduced from 60vh */
            background: linear-gradient(120deg, rgba(0,48,87,0.85) 60%, rgba(239,251,254,0.85) 100%),
                url('https://residentialvillage.com/wp-content/uploads/2024/12/Residential_023_Exterior.webp') center center/cover no-repeat;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            padding-top: 2.5rem; /* reduced from 4.5rem */
            padding-bottom: 1.5rem; /* reduced from 2.5rem */
            transition: min-height 0.3s, padding 0.3s;
        }
        @media (max-width: 768px) {
            .uhd-hero-section {
                min-height: 22vh;
                padding-top: 1.2rem;
                padding-bottom: 0.5rem;
            }
        }
        .uhd-hero-bg-video {
            position: absolute;
            top: 0; left: 0;
            width: 100vw;
            height: 100%;
            z-index: 1;
            overflow: hidden;
            pointer-events: none;
        }
        .uhd-hero-bg-video iframe {
            position: absolute;
            top: 50%; left: 50%;
            min-width: 100vw;
            min-height: 100vh;
            width: 177.78vh;
            height: 56.25vw;
            transform: translate(-50%, -50%);
            object-fit: cover;
            pointer-events: auto;
            border: none;
            background: #000;
            opacity: 1;
            filter: none;
        }
        .uhd-hero-content {
            position: relative;
            z-index: 2;
            max-width: 700px;
            margin: 0 auto;
            text-align: center;
            padding: 2.5rem 1.5rem 0.5rem 1.5rem;
            background: rgba(255,255,255,0.82); /* Subtle white, not too opaque */
            border-radius: 2rem;
            box-shadow: 0 8px 32px rgba(60,0,100,0.10);
        }
        .uhd-hero-content h1 {
            font-family: 'Montserrat', Arial, sans-serif;
            font-weight: 800;
            font-size: 2.7rem;
            color: var(--casc-blue);
            margin-bottom: 1.1rem;
            letter-spacing: -2px;
        }
        .uhd-hero-content p {
            font-size: 1.25rem;
            color: #4a4a4a;
            margin-bottom: 0.5rem;
        }
        @media (max-width: 768px) {
            .uhd-hero-content h1 { font-size: 1.5rem; }
            .uhd-hero-content { padding: 1.2rem 0.5rem; }
        }
        /* Section Headings */
        .uhd-section-title {
            font-family: 'Montserrat', Arial, sans-serif;
            font-weight: 800;
            font-size: 2.1rem;
            color: var(--casc-blue);
            margin-bottom: 1.2rem;
            letter-spacing: -1px;
        }
        /* Cards & Tables */
        .uhd-card {
            background: var(--casc-white);
            border-radius: 1.5rem;
            box-shadow: var(--casc-card-shadow);
            border: 1.5px solid #b3d6e6;
            padding: 2.2rem 2rem 2rem 2rem;
            margin-bottom: 2rem;
        }
        .uhd-card ul {
            padding-left: 1.2rem;
        }
        .uhd-card li {
            margin-bottom: 0.5rem;
            font-size: 1.08rem;
        }
        .uhd-table {
            background: var(--casc-white);
            border-radius: 1.25rem;
            box-shadow: var(--casc-card-shadow);
            border: 1.5px solid #b3d6e6;
            padding: 2rem 1rem;
            margin: 2rem 0;
        }
        .uhd-table th, .uhd-table td {
            vertical-align: middle;
            font-size: 1.08rem;
        }
        .uhd-table th {
            color: var(--casc-blue);
            font-weight: 700;
            background: var(--casc-bg);
        }
        /* Floorplans Section */
        .uhd-floorplans-section {
            padding-top: 3rem;
            padding-bottom: 3rem;
        }
        .uhd-floorplan-card {
            background: #fff;
            border-radius: 1.5rem;
            box-shadow: 0 4px 18px rgba(60,0,100,0.07);
            transition: box-shadow 0.18s, transform 0.18s;
            border: 1.5px solid #f3e9c0;
            margin-bottom: 0;
            padding: 2.2rem 1.5rem 1.5rem 1.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            height: 100%;
        }
        .uhd-floorplan-card:hover {
            box-shadow: 0 8px 32px rgba(60,0,100,0.13);
            transform: translateY(-4px) scale(1.03);
        }
        .uhd-floorplan-img-wrap {
            width: 100%;
            max-width: 340px;
            margin: 0 auto;
            border-radius: 1.25rem;
            overflow: hidden;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            border: 2px solid #f3e9c0;
            background: #faf9f6;
        }
        .uhd-floorplan-img {
            width: 100%;
            display: block;
            border-radius: 1.25rem;
            transition: transform 0.18s;
        }
        .uhd-floorplan-card:hover .uhd-floorplan-img {
            transform: scale(1.04);
        }
        .uhd-floorplan-caption {
            background: #f7f7f9;
            color: #2d1e4a;
            padding: 0.75rem 1rem;
            margin: 0 auto;
            display: inline-block;
            border-radius: 0.5rem;
            font-size: 1.08rem;
            font-weight: 500;
            box-shadow: none;
            margin-top: 0.5rem;
        }
        /* Carousel */
        .carousel-inner img {
            max-height: 320px;
            object-fit: cover;
            border-radius: 1.25rem;
        }
        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            background-color: var(--uhd-gold);
            border-radius: 50%;
        }
        /* CTA Section */
        .uhd-apply-banner {
            background: linear-gradient(rgba(0,48,87,0.85), rgba(0,48,87,0.85)),
                url('https://residentialvillage.com/wp-content/uploads/2024/12/Residential_023_Exterior.webp') center bottom/cover no-repeat;
            color: var(--casc-white);
            margin: 0;
            border-radius: 0;
            background-position: center 70%;
            box-shadow: 0 4px 24px rgba(0,48,87,0.10);
            position: relative;
        }
        .uhd-apply-badge {
            display: inline-block;
            background: var(--casc-blue);
            color: var(--casc-white);
            font-weight: 700;
            font-size: 1.08rem;
            border-radius: 2rem;
            padding: 0.5rem 1.3rem;
            letter-spacing: 0.5px;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            box-shadow: 0 2px 8px rgba(0,48,87,0.08);
        }
        .uhd-apply-title {
            font-size: 2.3rem;
            font-weight: 800;
            letter-spacing: -1px;
            color: var(--casc-white);
        }
        .uhd-apply-desc {
            font-size: 1.18rem;
            color: var(--casc-white);
            margin-bottom: 2rem;
        }
        .uhd-apply-desc a {
            color: var(--casc-white);
            text-decoration: underline;
            font-weight: 600;
        }
        .uhd-apply-btn {
            font-size: 1.18rem;
            border-radius: 0.75rem;
            box-shadow: 0 2px 8px rgba(0,48,87,0.08);
        }
        @media (max-width: 767.98px) {
            .uhd-apply-title { font-size: 1.5rem; }
            .uhd-apply-desc { font-size: 1rem; }
        }
        /* Get in Touch Section */
        .contact-card-uhd {
            background: #fff;
            border-radius: 1.5rem;
            box-shadow: var(--uhd-card-shadow);
            border: 1.5px solid #f3e9c0;
            transition: box-shadow 0.2s;
        }
        .contact-card-uhd:hover {
            box-shadow: 0 12px 40px rgba(60,0,100,0.13), 0 1.5px 0 #e5c97b inset;
        }
        .uhd-modern-input {
            border: none !important;
            border-radius: 0.75rem !important;
            background: #f7f7f9 !important;
            color: #2d1e4a !important;
            font-weight: 500;
            box-shadow: 0 1px 4px rgba(60,0,100,0.04);
            padding: 0.85rem 1.1rem;
            font-size: 1.08rem;
            transition: box-shadow 0.2s, background 0.2s;
        }
        .uhd-modern-input:focus {
            background: #fff !important;
            box-shadow: 0 0 0 2px #e5c97b55, 0 1px 4px rgba(60,0,100,0.08);
            outline: none;
        }
        .uhd-modern-input::placeholder {
            color: #b9b9b9;
            opacity: 1;
            font-weight: 400;
        }
        .uhd-btn-gold {
            background: var(--casc-blue);
            color: var(--casc-white);
            border: none;
            border-radius: 0.75rem;
            font-size: 1.13rem;
            box-shadow: 0 2px 8px rgba(0,48,87,0.08);
            transition: background 0.2s, color 0.2s;
        }
        .uhd-btn-gold:hover, .uhd-btn-gold:focus {
            background: #002040;
            color: var(--casc-white);
        }
        .uhd-map-card {
            background: #fff;
            border-radius: 1.5rem;
            box-shadow: var(--uhd-card-shadow);
            border: 1.5px solid #f3e9c0;
            overflow: hidden;
            min-height: 350px;
            display: flex;
            flex-direction: column;
        }
        .uhd-map-card iframe {
            flex: 1 1 auto;
            width: 100%;
            height: 100%;
            min-height: 350px;
            border-radius: 1.5rem;
        }
        /* Contact section specific styles */
        #contact .row.align-items-stretch {
            display: flex;
            flex-wrap: wrap;
        }
        #contact .col-lg-6.d-flex {
            display: flex !important;
            flex-direction: column;
        }
        .contact-card-uhd {
            height: 100%;
        }
        @media (max-width: 991.98px) {
            .uhd-map-card { min-height: 250px; }
            #contact .row.align-items-stretch {
                flex-direction: column;
            }
            .uhd-map-card,
            .contact-card-uhd {
                min-height: 250px;
                height: auto;
            }
            .uhd-map-card iframe {
                min-height: 250px;
            }
        }
        /* Footer */
        .uhd-footer {
            background: var(--casc-blue);
            color: var(--casc-white);
            padding: 2.5rem 0 1.5rem 0;
            margin-top: 2rem;
            border-top: 2px solid var(--casc-blue);
            font-size: 1.05rem;
        }
        .uhd-footer .footer-logo {
            max-width: 160px;
            height: auto;
        }
        .uhd-footer a {
            color: var(--casc-white);
            text-decoration: underline;
        }
        .uhd-footer a:hover {
            color: var(--casc-bg);
        }
        .uhd-footer .footer-social i {
            font-size: 1.5rem;
            color: var(--casc-white);
            margin: 0 0.5rem;
            transition: color 0.2s;
        }
        .uhd-footer .footer-social i:hover {
            color: var(--casc-bg);
        }
        /* Features That Fit Section */
        .uhd-feature-card {
            background: #fff;
            border-radius: 1.25rem;
            box-shadow: 0 4px 18px rgba(60,0,100,0.07);
           padding: 2.2rem 1.2rem 1.2rem 1.2rem;
            transition: box-shadow 0.18s, transform 0.18s;
            min-height: 230px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
        }
        .uhd-feature-card:hover {
            box-shadow: 0 8px 32px rgba(60,0,100,0.13);
            transform: translateY(-4px) scale(1.03);
        }
        .uhd-feature-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(90deg, #fffbe6 0%, #fff 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(255,198,0,0.08);
            font-size: 2.2rem;
            color: #ffc600;
        }
        .uhd-feature-icon i {
            color: #ffc600;
            font-size: 2.2rem;
        }
        .uhd-feature-desc {
            color: #5a5a5a;
            font-size: 1rem;
            margin-top: 0.25rem;
        }
        /* Misc */
        .fw-800 { font-weight: 800 !important; }
        .fw-700 { font-weight: 700 !important; }
        .fw-600 { font-weight: 600 !important; }
        .text-blue { color: var(--casc-blue) !important; }
        .bg-blue { background: var(--casc-blue) !important; }
        .rounded-xl { border-radius: 1.5rem !important; }
        .shadow-xl { box-shadow: 0 12px 40px rgba(0,48,87,0.13) !important; }
        /* Compact Banner Styles */
        .uhd-limited-banner-compact {
          background: var(--casc-blue);
          color: var(--casc-white);
          border-radius: 0;
          box-shadow: 0 2px 12px rgba(0,48,87,0.10);
          margin-bottom: 0;
        }
        .uhd-limited-badge-compact {
          display: block;
          background: var(--casc-blue);
          color: var(--casc-white);
          font-weight: 700;
          font-size: 1rem;
          border-radius: 2rem;
          padding: 0.35rem 1.1rem;
          letter-spacing: 0.5px;
          text-transform: uppercase;
          vertical-align: middle;
          text-align: center;
          width: 100%;
          margin-left: 0 !important;
          margin-right: 0 !important;
        }
        @media (min-width: 768px) {
          .uhd-limited-badge-compact {
            display: inline-block;
            width: auto;
          }
        }
        .uhd-limited-message-compact {
          font-size: 1.05rem;
          font-weight: 600;
          color: var(--casc-white);
          vertical-align: middle;
        }
        .uhd-limited-terms-compact {
          font-size: 0.98rem;
          color: var(--casc-white);
          font-weight: 600;
          margin-left: 1.5rem;
          vertical-align: middle;
        }
        .uhd-limited-btn-compact {
          font-size: 1.08rem;
          border-radius: 0.75rem;
          box-shadow: 0 2px 8px rgba(0,48,87,0.08);
          margin-top: 0;
        }
        @media (max-width: 991.98px) {
          .uhd-limited-banner-compact .row {
            flex-direction: column !important;
            text-align: center;
          }
          .uhd-limited-banner-compact .col-md-8,
          .uhd-limited-banner-compact .col-md-4 {
            width: 100%;
            max-width: 100%;
            flex: 0 0 100%;
            margin-bottom: 0.75rem;
            text-align: center;
            justify-content: center;
          }
          .uhd-limited-terms-compact {
            display: block;
            margin-left: 0;
            margin-top: 0.25rem;
          }
        }
    </style>
        <style>
          .gallery-img-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #003057;
            letter-spacing: 0.5px;
          }
          @media (max-width: 767.98px) {
            .carousel-control-prev-icon, .carousel-control-next-icon {
              width: 2.1rem;
              height: 2.1rem;
            }
            .gallery-img-title {
              font-size: 1rem;
            }
          }
        </style>
    <style>
    .dorm-experience-bg {
        background: linear-gradient(rgba(0,48,87,0.5), rgba(0,48,87,0.5)),
            url('https://residentialvillage.com/wp-content/uploads/2024/12/Residential_028_Kitchen.webp') center 60%/cover no-repeat;
        color: #fff;
        width: 100vw;
        min-height: 320px;
        padding: 0;
    }
    .leasing-process-bg {
        background: linear-gradient(rgba(0,48,87,0.5), rgba(0,48,87,0.5)),
            url('https://residentialvillage.com/wp-content/uploads/2024/12/Residential_042_Study.webp') left 70%/cover no-repeat;
        color: #fff;
        width: 100vw;
        min-height: 320px;
        background-position: center 65%;
        padding: 0;
    }
    .section-divider {
        width: 100vw;
        min-height: 180px;
        background-size: cover;
        background-position: center center;
        background-repeat: no-repeat;
        margin: 0;
        margin-right: 100px;
        border: none;
        position: relative;
    }
    @media (max-width: 768px) {
        .section-divider {
            min-height: 90px;
        }
    }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg uhd-navbar fixed-top">
        <div class="container">
            <a class="navbar-brand mx-auto mx-lg-0 text-center text-lg-start" href="https://residentialvillage.com/">
                Return to Residential Village Website
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#uhdNavbarNav" aria-controls="uhdNavbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="uhdNavbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item"><a class="nav-link" href="#horizon-card">Floorplans</a></li>
                    <li class="nav-item"><a class="nav-link" href="#gallery">Gallery</a></li>
                    <li class="nav-item"><a class="nav-link" href="#amenities">Features</a></li>
                    <li class="nav-item"><a class="nav-link" href="#mealplans">Meal Plans</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contact">Contact Us</a></li>
                    <li class="nav-item ms-2">
                        <a class="btn btn-primary fw-bold px-3 py-1" style="border-radius: 2rem; background: #003057; border: none;" target="_blank" href="https://residentialvillage.prospectportal.com/Apartments/module/application_authentication/?_gl=1*157iq8r*_gcl_aw*R0NMLjE3NDU4NTM2NzEuQ2owS0NRand6cnpBQmhEOEFSSXNBTmxTV05QclA4c1hieEdQSXQtbmk4RUhybDFkY3p1a2NyVjBwcG9tOGNudnhyWkxuQlBLUWtjX19qRWFBdG04RUFMd193Y0I.*_ga*MTUxMzA0MDIyOS4xNzQxODAyMjE1*_ga_F73Z6D91ZP*czE3NDk3ODc3MDEkbzE0JGcwJHQxNzQ5Nzg3NzAxJGo2MCRsMCRoMA..">Apply</a>
                    </li>
                    <li class="nav-item ms-2">
                        <button id="schedule-tour-btn" class="btn btn-outline-success fw-bold px-3 py-1" style="border-radius: 2rem;">Schedule a Tour</button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
            <div class="collapse navbar-collapse" id="uhdNavbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item"><a class="nav-link" href="#horizon-card">Floorplans</a></li>
                    <li class="nav-item"><a class="nav-link" href="#gallery">Gallery</a></li>
                    <li class="nav-item"><a class="nav-link" href="#amenities">Features</a></li>
                    <li class="nav-item"><a class="nav-link" href="#mealplans">Meal Plans</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contact">Contact Us</a></li>
                    <li class="nav-item ms-2">
                        <a class="btn btn-primary fw-bold px-3 py-1" style="border-radius: 2rem; background: #003057; border: none;" target="_blank" href="https://residentialvillage.prospectportal.com/Apartments/module/application_authentication/?_gl=1*157iq8r*_gcl_aw*R0NMLjE3NDU4NTM2NzEuQ2owS0NRand6cnpBQmhEOEFSSXNBTmxTV05QclA4c1hieEdQSXQtbmk4RUhybDFkY3p1a2NyVjBwcG9tOGNudnhyWkxuQlBLUWtjX19qRWFBdG04RUFMd193Y0I.*_ga*MTUxMzA0MDIyOS4xNzQxODAyMjE1*_ga_F73Z6D91ZP*czE3NDk3ODc3MDEkbzE0JGcwJHQxNzQ5Nzg3NzAxJGo2MCRsMCRoMA..">Apply</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="uhd-hero-section" id="about" style="background: linear-gradient(120deg, rgba(0,48,87,0.85) 60%, rgba(239,251,254,0.85) 100%), url('https://residentialvillage.com/wp-content/uploads/2024/12/Residential_023_Exterior.webp') center center/cover no-repeat;">
      </header>
    <!-- International Students Community Section (above Gallery) -->
    <!-- Will be moved just above the Gallery section below -->
        <div class="uhd-hero-bg-video" style="background:url('https://residentialvillage.com/wp-content/uploads/2024/12/Residential_023_Exterior.webp') center center/cover no-repeat;">
            <iframe 
                id="heroVimeo"
                class="hero-fade-video"
                src="https://player.vimeo.com/video/1081637820?background=1&autoplay=1&muted=1&loop=1"
                allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media"
                title="Horizon Hall Intro"
                tabindex="-1"
                style="background:url('https://residentialvillage.com/wp-content/uploads/2024/12/Residential_023_Exterior.webp') center center/cover no-repeat; opacity:0; transition:opacity 1.2s cubic-bezier(.4,0,.2,1);"
            ></iframe>
        </div>
        <script src="https://player.vimeo.com/api/player.js"></script>
        <script>
        window.addEventListener('DOMContentLoaded', function() {
          var iframe = document.getElementById('heroVimeo');
          if (window.Vimeo && iframe) {
            var player = new Vimeo.Player(iframe);
            player.ready().then(function() {
              setTimeout(function() {
                iframe.style.opacity = 1;
              }, 200); // slight delay for smoothness
            });
          } else {
            // fallback: fade in after 1.5s if Vimeo API fails
            setTimeout(function() {
              if (iframe) iframe.style.opacity = 1;
            }, 1500);
          }
        });
        </script>
        <div class="uhd-hero-content" data-aos="fade-up" data-aos-duration="1200">
          <img src="images/logo.svg" alt="Cascadia College Logo" style="max-width:340px;width:100%;height:auto;" class="mb-2">
            <h1 id="hero-title"></h1>
            <p id="hero-subtitle"></p>
            <div class="mt-3 lead" style="color:#2d1e4a;">
                Discover a vibrant student community, modern amenities, and the convenience of living steps from campus. Experience the best of Cascadia College life at Horizon Hall and Forest Hall.
            </div>
        </div>
    </header>
    <div class="uhd-limited-banner-compact w-100 modern-banner" style="z-index: 5; margin-top: 150px">
      <div class="container">
        <div class="row align-items-center justify-content-between flex-column flex-md-row py-4">
          <!-- Left: Badge, Message, Terms -->
          <div class="col-md-8 d-flex align-items-center mb-3 mb-md-0">
            <div class="text-center w-100">
              <span class="uhd-limited-badge-compact me-3 modern-badge" id="banner-badge"></span>
            </div>
            <div>
              <span class="uhd-limited-message-compact modern-highlight-text" id="banner-message"></span>
              <span class="uhd-limited-terms-compact ms-3" id="banner-terms"></span>
            </div>
          </div>
          <!-- Right: Button -->
          <div class="col-md-4 text-md-end text-center d-flex flex-column flex-md-row align-items-center justify-content-end gap-2">
            <a href="https://residentialvillage.prospectportal.com/Apartments/module/application_authentication/?_gl=1*1vwlz0n*_ga*MTI1NDM2NDAxMi4xNzQxNzYwMTgy*_ga_F73Z6D91ZP*czE3NDcwMDUxMzkkbzckZzEkdDE3NDcwMDYxMDckajUzJGwwJGgw"
               target="_blank"
               class="btn uhd-btn-gold uhd-limited-btn-compact px-4 py-2 fw-bold modern-btn mb-2 mb-md-0" id="banner-button">
              Now Leasing
            </a>
          </div>
        </div>
      </div>
    </div>
    <style>
      .modern-banner {
        background: #fff;
        border-radius: 1.5rem;
        box-shadow: 0 6px 32px rgba(0,48,87,0.13);
        margin-top: 2.5rem;
        margin-bottom: 2.5rem;
        overflow: hidden;
        position: relative;
        border-left: 8px solid #00274C;
        border-top: 2px solid #FFCB05;
        border-bottom: 2px solid #FFCB05;
        animation: banner-pop 1.1s cubic-bezier(.4,0,.2,1);
      }
      @keyframes banner-pop {
        0% { transform: scale(0.98) translateY(30px); opacity: 0; }
        100% { transform: scale(1) translateY(0); opacity: 1; }
      }
      .modern-highlight-text {
        font-weight: 800;
        font-size: 1.45rem;
        color: #00274C;
        position: relative;
        display: inline-block;
        padding-bottom: 0.2em;
      }
      .modern-highlight-text::after {
        content: '';
        display: block;
        position: absolute;
        left: 0; right: 0; bottom: 0.08em;
        height: 0.45em;
        background: #FFCB05;
        opacity: 0.7;
        border-radius: 0.2em;
        z-index: -1;
        animation: highlight-underline 1.2s cubic-bezier(.4,0,.2,1) 0.2s both;
      }
      @keyframes highlight-underline {
        0% { width: 0; left: 50%; right: 50%; opacity: 0; }
        60% { width: 100%; left: 0; right: 0; opacity: 1; }
        100% { width: 100%; left: 0; right: 0; opacity: 0.7; }
      }
      .modern-btn {
        position: relative;
        overflow: hidden;
        z-index: 1;
        transition: transform 0.18s cubic-bezier(.4,0,.2,1), box-shadow 0.18s;
        box-shadow: 0 2px 12px rgba(0,48,87,0.13);
        background: #00274C;
        color: #fff;
        border: none;
        font-size: 1.13rem;
        border-radius: 0.75rem;
      }
      .modern-btn:hover, .modern-btn:focus {
        transform: scale(1.07) rotate(-2deg);
        box-shadow: 0 6px 24px rgba(0,48,87,0.18);
        background: #FFCB05;
        color: #00274C;
      }
      .modern-btn::before {
        content: '';
        position: absolute;
        left: -100%;
        top: 0;
        width: 100%;
        height: 100%;
        background: #FFCB05;
        z-index: 0;
        transition: left 0.4s cubic-bezier(.4,0,.2,1);
        opacity: 0.7;
      }
      .modern-btn:hover::before, .modern-btn:focus::before {
        left: 0;
      }
      .modern-btn span, .modern-btn i {
        position: relative;
        z-index: 1;
      }
      .modern-badge {
        background: #FFCB05 !important;
        color: #00274C !important;
        font-weight: 700;
        font-size: 1.08rem;
        border-radius: 2rem;
        padding: 0.5rem 1.3rem;
        letter-spacing: 0.5px;
        margin-bottom: 0.5rem;
        text-transform: uppercase;
        box-shadow: 0 2px 8px rgba(0,48,87,0.08);
        animation: badge-bounce 1.2s infinite alternate cubic-bezier(.4,0,.2,1);
      }
      @keyframes badge-bounce {
        0% { transform: translateY(0); }
        100% { transform: translateY(-6px) scale(1.07); }
      }
      @media (max-width: 767.98px) {
        .modern-banner {
          border-radius: 1rem;
          margin-top: 0.5rem;
          margin-bottom: 1.5rem;
        }
        .modern-highlight-text {
          font-size: 1.05rem;
        }
      }
    </style>

    <!-- Main Content -->
    <main class="container py-5">

        <section class="row g-4 mb-5 justify-content-center">
            <div class="col-12 col-md-6 col-lg-5" id="horizon-card" data-aos="fade-up" data-aos-delay="100">
                <div class="uhd-card h-100 d-flex flex-column align-items-center text-center p-4">
                    <img src="images/Horizon_building.JPG" alt="Horizon Hall Exterior" class="uhd-floorplan-img mb-3" style="max-width:320px;">
                    <h2 class="uhd-section-title mb-2" id="horizon-title"></h2>
                    <p id="horizon-desc"></p>
                    <div class="mb-2 text-secondary">Spacious, fully furnished apartments designed for student success. Enjoy private bedrooms, modern kitchens, and a welcoming community atmosphere.</div>
                    <button class="btn uhd-btn-gold mt-2 px-4 py-2 fw-bold" data-bs-toggle="modal" data-bs-target="#horizonHallModal">View</button>
                </div>
            </div>
            <div class="col-12 col-md-6 col-lg-5" data-aos="fade-up" data-aos-delay="200">
                <div class="uhd-card h-100 d-flex flex-column align-items-center text-center p-4">
                    <img src="images/Forest_building.JPG" alt="Forest Hall Exterior" class="uhd-floorplan-img mb-3" style="max-width:320px;">
                    <h2 class="uhd-section-title mb-2" id="forest-title"></h2>
                    <p id="forest-desc"></p>
                    <div class="mb-2 text-secondary">Classic campus living with beautiful gathering areas, private and shared suites, and spaces that foster connection and collaboration.</div>
                    <button class="btn uhd-btn-gold mt-2 px-4 py-2 fw-bold" data-bs-toggle="modal" data-bs-target="#forestHallModal">View</button>
                </div>
            </div>
        </section>

        <!-- Feature Comparison Table Section -->
        <section class="container my-5" id="feature-comparison">
          <h2 class="uhd-section-title text-center mb-4">Horizon Hall vs. Forest Hall: Feature Comparison</h2>
          <div class="table-responsive">
            <table class="table table-bordered align-middle text-center bg-white shadow-sm" id="comparison-table">
              <thead class="table-light">
                <tr>
                  <th style="min-width:140px;">Feature</th>
                  <th style="min-width:120px;">Horizon Hall</th>
                  <th style="min-width:120px;">Forest Hall</th>
                </tr>
              </thead>
              <tbody id="comparison-table-body">
                <tr><td colspan="3" class="text-muted">Loading...</td></tr>
              </tbody>
            </table>
          </div>
        </section>
        <script>
        // Dynamic Comparison Table Loader
        function renderComparisonTable(rows) {
          const tbody = document.getElementById('comparison-table-body');
          if (!Array.isArray(rows) || rows.length === 0) {
            tbody.innerHTML = '<tr><td colspan="3" class="text-muted">No comparison data available.</td></tr>';
            return;
          }
          tbody.innerHTML = rows.map(row => {
            const h = (row.horizon||'').trim();
            const f = (row.forest||'').trim();
            const hClass = h === '✓' ? 'text-success fw-bold' : h === '✗' ? 'text-danger fw-bold' : '';
            const fClass = f === '✓' ? 'text-success fw-bold' : f === '✗' ? 'text-danger fw-bold' : '';
            return `<tr>
              <td>${row.feature||''}</td>
              <td class="${hClass}">${h||''}</td>
              <td class="${fClass}">${f||''}</td>
            </tr>`;
          }).join('');
        }
        fetch('https://cascadia-editor.onrender.com/api/get-content')
          .then(r => r.ok ? r.json() : {})
          .then(data => renderComparisonTable(data.comparison_table))
          .catch(() => renderComparisonTable([]));
        </script>

      <!-- International Students Community Section (above Gallery) -->
    <section class="container my-5" style="max-width:950px;">
      <!-- Cascadia logo moved to hero section -->
      <div class="card border-0 shadow-sm overflow-hidden mb-2">
        <img src="images/Cascadia Flags.jpg" alt="International students at Cascadia College holding their country flags." class="img-fluid w-100" style="object-fit:contain;min-height:180px;max-height:none;border-radius:1rem;">
      </div>
      <div class="text-center mt-2 mb-4">
        <h3 class="fw-bold" style="color:#003057;">A Vibrant International Community</h3>
        <p class="lead" style="max-width:700px;margin:0 auto;color:#444;">Cascadia College is home to students from all over the world. Our diverse, welcoming campus is a place where everyone belongs and lifelong friendships are made.</p>
      </div>
    </section>
      <!-- Gallery Section -->
      <section class="container py-5" id="gallery">
        <style>
          .carousel-control-prev-icon, .carousel-control-next-icon {
            background-color: #003057 !important;
            border-radius: 50%;
            border: 2px solid #fff;
            width: 3rem;
            height: 3rem;
            background-size: 60% 60%;
          }
          .carousel-control-prev, .carousel-control-next {
            width: 6%;
          }
          .gallery-lightbox-img {
            max-width: 100%;
            max-height: 80vh;
            border-radius: 1rem;
            box-shadow: 0 2px 12px rgba(0,0,0,0.18);
          }
        </style>
        <div class="text-center mb-4">
          <h2 class="uhd-section-title">Gallery</h2>
          <p class="lead" style="color:#5a5a5a; max-width:600px; margin:0 auto;">
            Explore the spaces and experiences at the Residential Village. Use the arrows to browse or click the image to enlarge.
          </p>
        </div>
        <div id="galleryCarousel" class="carousel slide mx-auto" data-bs-ride="carousel" style="max-width:900px;">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_002_Dining.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Dining Hall" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Dining Hall</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_004_Dining.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Dining Hall" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Dining Hall</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_005_Dining.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Dining Hall" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Dining Hall</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_009_Dining.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Dining Hall" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Dining Hall</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_006_Dining.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Dining Hall" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Dining Hall</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_001_Dining.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Dining Hall" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Dining Hall</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_003_Dining.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Dining Hall" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Dining Hall</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_008_Dining.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Lounge" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Lounge</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_007_Dining.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Lounge" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Lounge</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_015_Lounge.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Community Kitchen" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Community Kitchen</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_013_Lounge.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Lounge" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Lounge</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_012_Lounge.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Lounge" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Lounge</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_011_Lobby.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Lobby" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Lobby</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_016_Study.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Study Rooms" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Study Rooms</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_020_Exterior.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Exterior" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Exterior</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_021_Exterior.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Exterior" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Exterior</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_017_Exterior.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Exterior" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Exterior</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_019_Exterior.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Exterior" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Exterior</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_026_LivingRoom.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Living Room" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Living Room</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_027_Bedroom.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Bedroom" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Bedroom</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_028_Kitchen.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Kitchen" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Kitchen</div>
            </div>
            <div class="carousel-item">
              <img src="https://residentialvillage.com/wp-content/uploads/2024/12/Residential_046_Laundry.webp" class="d-block w-100 rounded shadow gallery-carousel-img" alt="Laundry Room" style="cursor:pointer;" loading="lazy">
              <div class="text-center mt-2 gallery-img-title">Laundry Room</div>
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#galleryCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#galleryCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
        <!-- Gallery Lightbox Modal -->
        <div class="modal fade" id="galleryLightbox" tabindex="-1" aria-labelledby="galleryLightboxLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content bg-dark border-0">
              <div class="modal-header border-0">
                <button type="button" class="btn-close btn-close-white ms-auto" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body text-center p-0">
                <img id="galleryLightboxImg" src="" alt="" class="gallery-lightbox-img">
              </div>
            </div>
          </div>
        </div>
        <script>
        document.addEventListener('DOMContentLoaded', function() {
          document.querySelectorAll('.gallery-carousel-img').forEach(function(img) {
            img.addEventListener('click', function() {
              document.getElementById('galleryLightboxImg').src = this.src;
              document.getElementById('galleryLightboxImg').alt = this.alt;
              var modal = new bootstrap.Modal(document.getElementById('galleryLightbox'));
              modal.show();
            });
          });
        });
        </script>
      </section>

        
        
    </main>

    <!-- Full-width Apply Banner -->
    <div class="uhd-apply-banner w-100 py-5" id="apply">
      <div class="container">
        <div class="row align-items-center justify-content-center">
          <div class="col-lg-8 text-center mx-auto">
            <h2 class="uhd-apply-title mb-3">
              Ready to Apply?
            </h2>
            <p class="uhd-apply-desc mb-4">
              Fill out an application at <a href="https://www.residentialvillage.com/" target="_blank">www.residentialvillage.com</a> and select the lease term for Cascadia College students.
            </p>
            <a href="https://residentialvillage.prospectportal.com/Apartments/module/application_authentication/?_gl=1*1vwlz0n*_ga*MTI1NDM2NDAxMi4xNzQxNzYwMTgy*_ga_F73Z6D91ZP*czE3NDcwMDUxMzkkbzckZzEkdDE3NDcwMDYxMDckajUzJGwwJGgw"
               target="_blank"
               class="btn uhd-btn-gold uhd-apply-btn px-5 py-3 fw-bold">
              Apply for Cascadia Student Housing
            </a>
          </div>
        </div>
      </div>
    </div>

    <main class="container py-5">
    <!-- Features That Fit Section -->
    <section class="container py-5" id="amenities">
        <div class="d-flex align-items-center justify-content-center mb-2" style="gap:1.5rem;">
          <img src="images/Cascadia Kody.png" alt="Kody the Kodiak Mascot" class="kody-mascot-accent" style="max-width:100px;width:100%;height:auto;display:inline-block;">
          <h2 class="fw-800 m-0" style="font-size:2.3rem; color:#2d1e4a; letter-spacing:-1px;">Features that fit</h2>
          <img src="images/Cascadia Kody.png" alt="Kody the Kodiak Mascot" class="kody-mascot-accent" style="max-width:100px;width:100%;height:auto;display:inline-block;">
        </div>
        <div class="text-center mb-4">
          <p class="lead" style="color:#5a5a5a; max-width:600px; margin:0 auto;">
            Everything you need for a comfortable, connected, and convenient student experience at Cascadia College.
          </p>
        </div>
        <div class="row g-4 justify-content-center">
          <div class="col-6 col-md-4 col-lg-3">
            <div class="uhd-feature-card text-center h-100">
              <div class="uhd-feature-icon mb-3">
                <i class="bi bi-wifi"></i>
              </div>
              <div class="fw-bold mb-1" style="color:#2d1e4a;">High-Speed WiFi</div>
              <div class="uhd-feature-desc">Fast, reliable internet included in every unit.</div>
              </div>
              </div>
              <div class="col-6 col-md-4 col-lg-3">
              <div class="uhd-feature-card text-center h-100">
              <div class="uhd-feature-icon mb-3">
              <i class="bi bi-house-door"></i>
              </div>
              <div class="fw-bold mb-1" style="color:#2d1e4a;">Fully Furnished</div>
              <div class="uhd-feature-desc">Modern furniture, beds, desks, and living essentials provided.</div>
              </div>
              </div>
              <div class="col-6 col-md-4 col-lg-3">
              <div class="uhd-feature-card text-center h-100">
              <div class="uhd-feature-icon mb-3">
              <i class="bi bi-droplet"></i>
              </div>
              <div class="fw-bold mb-1" style="color:#2d1e4a;">Utilities Included</div>
              <div class="uhd-feature-desc">Electric, water, and trash are all covered in your rent.</div>
              </div>
              </div>
              <div class="col-6 col-md-4 col-lg-3">
              <div class="uhd-feature-card text-center h-100">
              <div class="uhd-feature-icon mb-3">
              <i class="bi bi-water"></i>
              </div>
              <div class="fw-bold mb-1" style="color:#2d1e4a;">Laundry</div>
              <div class="uhd-feature-desc">Easy access to Facility Washer and dryer for your convenience.</div>
              </div>
              </div>
              <div class="col-6 col-md-4 col-lg-3">
              <div class="uhd-feature-card text-center h-100">
              <div class="uhd-feature-icon mb-3">
              <i class="bi bi-shield-lock"></i>
              </div>
              <div class="fw-bold mb-1" style="color:#2d1e4a;">Secure Access</div>
              <div class="uhd-feature-desc">Controlled entry and on-site staff for peace of mind.</div>
              </div>
              </div>
              <div class="col-6 col-md-4 col-lg-3">
              <div class="uhd-feature-card text-center h-100">
              <div class="uhd-feature-icon mb-3">
              <i class="bi bi-people"></i>
              </div>
              <div class="fw-bold mb-1" style="color:#2d1e4a;">Community Spaces</div>
              <div class="uhd-feature-desc">Lounges, study rooms, and outdoor areas for relaxation and connection.</div>
              </div>
              </div>
              <div class="col-6 col-md-4 col-lg-3">
              <div class="uhd-feature-card text-center h-100">
              <div class="uhd-feature-icon mb-3">
              <i class="bi bi-geo-alt"></i>
              </div>
              <div class="fw-bold mb-1" style="color:#2d1e4a;">Prime Location</div>
              <div class="uhd-feature-desc">Walk to campus, restaurants, and transit in minutes.</div>
              </div>
              </div>
              <div class="col-6 col-md-4 col-lg-3">
              <div class="uhd-feature-card text-center h-100">
              <div class="uhd-feature-icon mb-3">
              <i class="bi bi-calendar-check"></i>
              </div>
              <div class="fw-bold mb-1" style="color:#2d1e4a;">Flexible Stays</div>
              <div class="uhd-feature-desc">Flexible lease terms for students.</div>
              </div>
              </div>
        </div>
      </section>

        
    <!-- Dorm Living Experience Section -->
    <section class="dorm-experience-bg py-5" id="dorm-experience">
      <div style="max-width:900px;margin:0 auto;padding:3rem 1rem;text-align:center;" data-aos="fade-up">
        <h2 class="uhd-section-title mb-3" style="color:#fff;">The Dorm Living Experience</h2>
        <p class="lead" style="color:#fff;">
          At Cascadia Student Housing, every day is an opportunity to connect, grow, and make memories. Enjoy movie nights, study groups, and community events right outside your door. Our residence halls are more than just a place to sleep—they’re vibrant communities where you’ll find support, friendship, and endless opportunities to get involved. With on-site staff, secure access, and modern amenities, you can focus on what matters most: your college journey.
        </p>
      </div>
    </section>

    
        <!-- Meal Plan Section -->
        <section class="uhd-floorplans-section" id="mealplans">
            <h2 class="uhd-section-title text-center mb-4" id="mealplan-heading"></h2>
            <div class="row g-4 justify-content-center">
                <!-- Horizon Hall Meal Plan Box -->
                <div class="col-12 col-md-6 col-lg-5">
                    <div class="uhd-floorplan-card h-100 d-flex flex-column align-items-center text-center p-4 mealplan-box" data-meal="horizon">
                        <div class="fw-bold" style="font-size:1.25rem; color:#2d1e4a;" id="mealplan-horizon-title"></div>
                        <div class="uhd-floorplan-caption" id="mealplan-horizon-desc"></div>
                    </div>
                </div>
                <!-- Forest Hall Meal Plan Box -->
                <div class="col-12 col-md-6 col-lg-5">
                    <div class="uhd-floorplan-card h-100 d-flex flex-column align-items-center text-center p-4 mealplan-box" data-meal="forest">
                        <div class="fw-bold" style="font-size:1.25rem; color:#2d1e4a;" id="mealplan-forest-title"></div>
                        <div class="uhd-floorplan-caption" id="mealplan-forest-desc"></div>
                    </div>
                </div>
            </div>
            <!-- Meal Plan Details -->
            <div id="mealplan-details" class="mt-4" style="display:none;">
                <!-- Content will be injected by JS -->
            </div>
        </section>

        
        <section class="container my-5" id="contact">
          <div class="row justify-content-center align-items-stretch g-5">
            <!-- Contact Form -->
            <div class="col-lg-6 mb-4 mb-lg-0 d-flex">
              <div class="contact-card-uhd p-4 p-md-5 flex-fill d-flex flex-column justify-content-center">
                <h2 class="mb-2" style="font-weight: 800; font-size: 2.2rem; color: #3c0064; letter-spacing: -1px;">
                  Get in Touch
                </h2>
                <p class="mb-4" style="color: #5a5a5a; font-size: 1.15rem;">
                  Ready to experience summer living or have questions? Our team is here to help you every step of the way.
                </p>
                <form name="cascadia-contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" autocomplete="off">
                  <input type="hidden" name="form-name" value="cascadia-contact">
                  <p style="display:none">
                    <label>Don’t fill this out if you’re human: <input name="bot-field"></label>
                  </p>
                  <div class="mb-3">
                    <input type="text" class="form-control uhd-modern-input" name="name" placeholder="Name" required>
                  </div>
                  <div class="mb-3">
                    <input type="email" class="form-control uhd-modern-input" name="email" placeholder="Email" required>
                  </div>
                  <div class="mb-3">
                    <input type="tel" class="form-control uhd-modern-input" name="phone" placeholder="Phone">
                  </div>
                  <div class="mb-3">
                    <textarea class="form-control uhd-modern-input" name="message" rows="4" placeholder="Message" required></textarea>
                  </div>
                  <button type="submit" class="btn uhd-btn-gold w-100 py-2 fw-bold mt-2">
                    <i class="bi bi-send-fill me-2"></i>Send Message
                  </button>
                </form>
                <div class="mt-4" style="font-size:1.08rem; color:#3c0064;">
                </div>
              </div>
            </div>
            <!-- Google Map -->
            <div class="col-lg-6 d-flex align-items-stretch">
              <div class="uhd-map-card w-100 h-100 d-flex flex-column">
                <iframe 
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2682.875627495624!2d-122.2069276843692!3d47.75928297919509!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x54900e9d2e7c7e8b%3A0x8c5e6c1e2c6e2c5e!2s18612%20Beardslee%20Blvd%2C%20Bothell%2C%20WA%2098011%2C%20USA!5e0!3m2!1sen!2sus!4v1717712345678!5m2!1sen!2sus" 
                width="100%" height="100%" style="border:0; flex:1 1 auto; min-height:350px;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"
                title="Residential Village Map"></iframe>
              </div>
            </div>
          </div>
        </section>
    </main>

    <!-- Leasing Process Section -->
    <section class="leasing-process-bg py-5" id="leasing-process">
      <div style="max-width:900px;padding:3ch 2.5rem 8rem 15rem;text-align:left;" data-aos="fade-up">
        <h2 class="uhd-section-title mb-3" style="color:#fff;">The Leasing Process Made Simple</h2>
        <p class="lead" style="color:#fff;">
          We make moving in easy! Our step-by-step leasing process is designed with students in mind. Start by exploring our floorplans and rates, then complete your application online in just a few minutes. Our friendly team is here to answer your questions and guide you every step of the way—from application to move-in day. Flexible lease terms and transparent pricing mean you can plan with confidence.
        </p>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="container py-5" id="faq">
      <div class="text-center mb-4">
        <h2 class="uhd-section-title">Frequently Asked Questions</h2>
      </div>
      <div class="accordion" id="faqAccordion">
        <div id="faq-loading" class="text-muted">Loading...</div>
      </div>
    </section>

    <!-- Scroll to Top Button -->
    <button id="scrollToTopBtn" aria-label="Scroll to top" style="position:fixed;bottom:90px;right:30px;z-index:9999;display:none;background:#003057;color:#fff;border:none;border-radius:50%;width:48px;height:48px;box-shadow:0 2px 8px rgba(0,0,0,0.18);font-size:2rem;align-items:center;justify-content:center;transition:opacity 0.2s;">
      <span style="display:inline-block;line-height:1;">&#8679;</span>
    </button>
    <script>
      // Scroll to Top Button Logic
      const scrollBtn = document.getElementById('scrollToTopBtn');
      window.addEventListener('scroll', function() {
        if (window.scrollY > 300) {
          scrollBtn.style.display = 'flex';
          scrollBtn.style.opacity = '1';
        } else {
          scrollBtn.style.opacity = '0';
          setTimeout(()=>{scrollBtn.style.display = 'none';}, 200);
        }
      });
      scrollBtn.addEventListener('click', function() {
        window.scrollTo({top:0, behavior:'smooth'});
      });
    </script>

    <!-- Horizon Hall Modal -->
    <div class="modal fade" id="horizonHallModal" tabindex="-1" aria-labelledby="horizonHallModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="horizonHallModalLabel">Horizon Hall Floorplan Details</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <ul class="nav nav-tabs mb-3" id="horizonHallTabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="horizon-4br-tab" data-bs-toggle="tab" data-bs-target="#horizon-4br" type="button" role="tab" aria-controls="horizon-4br" aria-selected="true">4BR / 2BA - Single</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="horizon-2br-tab" data-bs-toggle="tab" data-bs-target="#horizon-2br" type="button" role="tab" aria-controls="horizon-2br" aria-selected="false">2BR / 2BA - Double</button>
              </li>
            </ul>
            <div class="tab-content" id="horizonHallTabsContent">
              <div class="tab-pane fade show active" id="horizon-4br" role="tabpanel" aria-labelledby="horizon-4br-tab">
                <div class="row">
                  <div class="col-md-6 text-center">
                    <img src="./images/Horizon-4BR-2BA-Single.webp" alt="Horizon Hall 4BR 2BA Floorplan" class="uhd-floorplan-img mb-3">
                    <div class="mb-2"><strong>Suite Style:</strong> 4 Bedroom / 2 Bath</div>
                  </div>
                  <div class="col-md-6">
                    <h6 class="fw-bold mb-2">Features</h6>
                    <ul class="floorplan-features">
                      <li>Private bedroom in shared apartment</li>
                      <li>Two full bathrooms</li>
                      <li>Full kitchen with appliances</li>
                      <li>Furnished living area</li>
                      <li>High-speed WiFi & utilities included</li>
                      <li>Access to lounges, fitness, and game rooms</li>
                      <li>In-unit or on-floor laundry</li>
                    </ul>
                  </div>
                </div>
                <div class="mt-4">
                  <h6 class="fw-bold mb-2">Lease Terms & Monthly Rates</h6>
                  <div class="lease-terms-table" data-lease-key="horizon-4br">
                    <div class="text-muted">Loading lease terms...</div>
                  </div>
                </div>
              </div>
              <div class="tab-pane fade" id="horizon-2br" role="tabpanel" aria-labelledby="horizon-2br-tab">
                <div class="row">
                  <div class="col-md-6 text-center">
                    <img src="./images/Horizon-2BR-2BA-Double.webp" alt="Horizon Hall 2BR 2BA Double Floorplan" class="uhd-floorplan-img mb-3">
                    <div class="mb-2"><strong>Suite Style:</strong> 2 Bedroom / 2 Bath Double</div>
                  </div>
                  <div class="col-md-6">
                    <h6 class="fw-bold mb-2">Features</h6>
                    <ul class="floorplan-features">
                      <li>Shared bedroom in shared apartment</li>
                      <li>Two full bathrooms</li>
                      <li>Full kitchen with appliances</li>
                      <li>Furnished living area</li>
                      <li>High-speed WiFi & utilities included</li>
                      <li>Access to lounges, fitness, and game rooms</li>
                      <li>In-unit or on-floor laundry</li>
                    </ul>
                  </div>
                </div>
                <div class="mt-4">
                  <h6 class="fw-bold mb-2">Lease Terms & Monthly Rates</h6>
                  <div class="lease-terms-table" data-lease-key="horizon-2br">
                    <div class="text-muted">Loading lease terms...</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Forest Hall Modal -->
    <div class="modal fade" id="forestHallModal" tabindex="-1" aria-labelledby="forestHallModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="forestHallModalLabel">Forest Hall Floorplan Details</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <ul class="nav nav-tabs mb-3" id="forestHallTabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="forest-2br-tab" data-bs-toggle="tab" data-bs-target="#forest-2br" type="button" role="tab" aria-controls="forest-2br" aria-selected="true">2BR / 1BA - Double</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="forest-4br-tab" data-bs-toggle="tab" data-bs-target="#forest-4br" type="button" role="tab" aria-controls="forest-4br" aria-selected="false">4BR / 1BA - Single</button>
              </li>
            </ul>
            <div class="tab-content" id="forestHallTabsContent">

              <div class="tab-pane fade show active" id="forest-2br" role="tabpanel" aria-labelledby="forest-2br-tab">
                <div class="row">
                  <div class="col-md-6 text-center">
                    <img src="https://residentialvillage.com/wp-content/uploads/2024/10/Forest-2BR-1BA-Double.webp" alt="Forest Hall 2BR 1BA Floorplan" class="uhd-floorplan-img mb-3">
                    <div class="mb-2"><strong>Suite Style:</strong> 2 Bedroom / 1 Bath</div>
                  </div>
                  <div class="col-md-6">
                    <h6 class="fw-bold mb-2">Features</h6>
                    <ul class="floorplan-features">
                      <li>Two private bedrooms</li>
                      <li>Shared bathroom</li>
                      <li>Full kitchen with appliances</li>
                      <li>Furnished living area</li>
                      <li>High-speed WiFi & utilities included</li>
                      <li>Access to community lounges and study rooms</li>
                      <li>Laundry facilities on each floor</li>
                    </ul>
                  </div>
                </div>
                <div class="mt-4">
                  <h6 class="fw-bold mb-2">Lease Terms & Monthly Rates</h6>
                  <div class="lease-terms-table" data-lease-key="forest-2br">
                    <div class="text-muted">Loading lease terms...</div>
                  </div>
                </div>
              </div>
              <div class="tab-pane fade" id="forest-4br" role="tabpanel" aria-labelledby="forest-4br-tab">
                <div class="row">
                  <div class="col-md-6 text-center">
                    <img src="https://residentialvillage.com/wp-content/uploads/2024/10/Forest-4BR-1BA-Single.webp" alt="Forest Hall 4BR 2BA Floorplan" class="uhd-floorplan-img mb-3">
                    <div class="mb-2"><strong>Suite Style:</strong> 4 Bedroom / 2 Bath</div>
                  </div>
                  <div class="col-md-6">
                    <h6 class="fw-bold mb-2">Features</h6>
                    <ul class="floorplan-features">
                      <li>Four private bedrooms</li>
                      <li>Two full bathrooms</li>
                      <li>Full kitchen with appliances</li>
                      <li>Furnished living area</li>
                      <li>High-speed WiFi & utilities included</li>
                      <li>Access to community lounges and study rooms</li>
                      <li>Laundry facilities on each floor</li>
                    </ul>
                  </div>
                </div>
                <div class="mt-4">
                  <h6 class="fw-bold mb-2">Lease Terms & Monthly Rates</h6>
                  <div class="lease-terms-table" data-lease-key="forest-4br">
                    <div class="text-muted">Loading lease terms...</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Floorplan Modal -->
    <div class="modal fade" id="floorplanModal" tabindex="-1" aria-labelledby="floorplanModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content bg-dark">
          <div class="modal-header border-0">
            <h5 class="modal-title text-white" id="floorplanModalLabel"></h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body text-center">
            <img id="modalFloorplanImg" src="" alt="" style="max-width:100%;height:auto;border-radius:1rem;">
          </div>
        </div>
      </div>
    </div>

    <style>
      .gallery-carousel-inner {
        vertical-align: middle;
      }
      .gallery-slide-img {
        width: 600px;
        height: 400px;
        object-fit: cover;
        margin: 0 auto;
        display: inline-block;
        vertical-align: middle;
        border-radius: 1rem;
        box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        cursor: pointer;
      }
    </style>
    <!-- Gallery Lightbox Modal -->
    <div class="modal fade" id="galleryLightbox" tabindex="-1" aria-labelledby="galleryLightboxLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content bg-dark border-0">
          <div class="modal-header border-0">
            <button type="button" class="btn-close btn-close-white ms-auto" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body text-center p-0">
            <img id="galleryLightboxImg" src="" alt="" style="max-width:100%;max-height:80vh;border-radius:1rem;">
          </div>
        </div>
      </div>
    </div>
    <!-- Calendly Widget JS -->
    <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
    <script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var btn = document.getElementById('schedule-tour-btn');
        if (btn && window.Calendly) {
          btn.onclick = function(e) {
            e.preventDefault();
            Calendly.initPopupWidget({ url: 'https://calendly.com/brian-strider-cardinalgroup/residential-village-tour-scheduler' });
            return false;
          };
        } else if (btn) {
          btn.onclick = function(e) {
            e.preventDefault();
            // Wait for Calendly to load
            var check = setInterval(function() {
              if (window.Calendly) {
                clearInterval(check);
                Calendly.initPopupWidget({ url: 'https://calendly.com/brian-strider-cardinalgroup/residential-village-tour-scheduler' });
              }
            }, 200);
          };
        }
      });
    </script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer></script>
    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js" defer></script>
    <script>window.addEventListener('DOMContentLoaded',()=>{AOS.init({ once: true });});</script>
    <script>
    // Gallery slideshow functionality
    document.addEventListener('DOMContentLoaded', function() {
      var galleryCarousel = document.getElementById('galleryCarousel');
      var carousel = new bootstrap.Carousel(galleryCarousel, { interval: 5000, ride: 'carousel', pause: false });
      var thumbnails = document.querySelectorAll('.gallery-thumb');
      var isPaused = false;
      thumbnails.forEach(function(thumb, idx) {
        thumb.addEventListener('click', function() {
          carousel.to(idx);
          carousel.pause();
          isPaused = true;
        });
      });
      galleryCarousel.addEventListener('slid.bs.carousel', function (e) {
        // Highlight the active thumbnail
        var activeIdx = Array.from(galleryCarousel.querySelectorAll('.carousel-item')).findIndex(item => item.classList.contains('active'));
        thumbnails.forEach((thumb, i) => {
          thumb.classList.toggle('border-primary', i === activeIdx);
        });
      });
      // Resume slideshow on carousel click if paused
      galleryCarousel.addEventListener('click', function(e) {
        // Only resume if not clicking the image itself
        if (e.target.classList.contains('gallery-slide-img')) return;
        if (isPaused) {
          carousel.cycle();
          isPaused = false;
        }
      });
      // Lightbox functionality
      document.querySelectorAll('.gallery-slide-img').forEach(function(img) {
        img.addEventListener('click', function(e) {
          document.getElementById('galleryLightboxImg').src = this.src;
          var modal = new bootstrap.Modal(document.getElementById('galleryLightbox'));
          modal.show();
        });
      // Render FAQ dynamically
      // (Moved inside fetch callback to ensure 'data' is defined)
      fetch('https://cascadia-editor.onrender.com/api/get-content')
        .then(r => r.json())
        .then(data => {
          // ...other content rendering...

          function renderFaq(faqArr) {
            const faqAccordion = document.getElementById('faqAccordion');
            if (!Array.isArray(faqArr) || faqArr.length === 0) {
              faqAccordion.innerHTML = '<div class="text-muted">No FAQs available at this time.</div>';
              return;
            }
            let html = '';
            faqArr.forEach((item, idx) => {
              const collapseId = `faq${idx}`;
              const headingId = `faq${idx}-heading`;
              html += `<div class="accordion-item">
                <h2 class="accordion-header" id="${headingId}">
                  <button class="accordion-button${idx === 0 ? '' : ' collapsed'}" type="button" data-bs-toggle="collapse" data-bs-target="#${collapseId}" aria-expanded="${idx === 0 ? 'true' : 'false'}" aria-controls="${collapseId}">
                    ${item.question ? item.question : 'Untitled Question'}
                  </button>
                </h2>
                <div id="${collapseId}" class="accordion-collapse collapse${idx === 0 ? ' show' : ''}" aria-labelledby="${headingId}" data-bs-parent="#faqAccordion">
                  <div class="accordion-body">
                    ${item.answer ? item.answer : ''}
                  </div>
                </div>
              </div>`;
            });
            faqAccordion.innerHTML = html;
          }

          if (Array.isArray(data.faq)) {
            renderFaq(data.faq);
          } else {
            renderFaq([]);
          }
        })
        .catch(() => {
          document.getElementById('hero-title').innerHTML = 'Welcome to Cascadia Student Housing';
          document.getElementById('hero-subtitle').innerHTML = 'Modern living for Cascadia College students at Horizon Hall and Forest Hall.';
          document.getElementById('banner-badge').innerHTML = 'Now Leasing';
          document.getElementById('banner-message').innerHTML = 'Apply for Fall 2024!';
          document.getElementById('banner-terms').innerHTML = 'Limited spots available';
          document.getElementById('banner-button').innerHTML = 'Apply Now';
          document.getElementById('horizon-title').innerHTML = 'Horizon Hall';
          document.getElementById('horizon-desc').innerHTML = 'Spacious, fully furnished apartments designed for student success. Enjoy private bedrooms, modern kitchens, and a welcoming community atmosphere.';
          document.getElementById('forest-title').innerHTML = 'Forest Hall';
          document.getElementById('forest-desc').innerHTML = 'Classic campus living with beautiful gathering areas, private and shared suites, and spaces that foster connection and collaboration.';
          document.getElementById('mealplan-heading').innerHTML = 'Meal Plans';
          document.getElementById('mealplan-horizon-title').innerHTML = 'Horizon Hall Meal Plan';
          document.getElementById('mealplan-horizon-desc').innerHTML = 'Flexible meal plans for Horizon Hall residents.';
          document.getElementById('mealplan-forest-title').innerHTML = 'Forest Hall Meal Plan';
          document.getElementById('mealplan-forest-desc').innerHTML = 'Flexible meal plans for Forest Hall residents.';
          document.getElementById('faqAccordion').innerHTML = '<div class="accordion-item"><h2 class="accordion-header" id="faq0-heading"><button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq0" aria-expanded="true" aria-controls="faq0">How do I apply?</button></h2><div id="faq0" class="accordion-collapse collapse show" aria-labelledby="faq0-heading" data-bs-parent="#faqAccordion"><div class="accordion-body">Visit the Residential Village website and complete the online application for Cascadia College housing.</div></div></div>';
        });
    });
    </script>
    <script>
    // Lease terms dynamic loading for all modals and floorplans
    document.addEventListener('DOMContentLoaded', function() {
      function loadLeaseTermsAll() {
        fetch('https://cascadia-editor.onrender.com/api/get-lease-terms')
          .then(function(response) { return response.json(); })
          .then(function(data) {
            document.querySelectorAll('.lease-terms-table').forEach(function(leaseTermsTable) {
              var key = leaseTermsTable.getAttribute('data-lease-key');
              var terms = data && data[key];
              if (!Array.isArray(terms) || terms.length === 0) {
                leaseTermsTable.innerHTML = '<div class="text-danger">No lease terms available for this floorplan.</div>';
                return;
              }
              var html = '<table class="table table-bordered align-middle mb-0"><thead class="table-light"><tr><th>Term</th><th>Dates</th><th>Monthly Rate</th></tr></thead><tbody>';
              terms.forEach(function(term) {
                html += `<tr><td>${term.term}</td><td>${term.dates}</td><td>${term.monthly_rate}</td></tr>`;
              });
              html += '</tbody></table>';
              leaseTermsTable.innerHTML = html;
            });
          })
          .catch(function() {
            document.querySelectorAll('.lease-terms-table').forEach(function(leaseTermsTable) {
              leaseTermsTable.innerHTML = '<div class="text-danger">Could not load lease terms.</div>';
            });
          });
      }
      // Load on DOMContentLoaded and also when modals are shown
      loadLeaseTermsAll();
      document.querySelectorAll('.modal').forEach(function(modal) {
        modal.addEventListener('show.bs.modal', loadLeaseTermsAll);
      });
    });
    </script>
    <!-- Vimeo Player API -->
    <script src="https://player.vimeo.com/api/player.js"></script>
    <script>
    // Dynamic content injection for hero section, banner, and meal plans with loading/error states
    document.addEventListener('DOMContentLoaded', function() {
      // Show loading states
      document.getElementById('hero-title').innerHTML = '<span class="text-muted">Loading...</span>';
      document.getElementById('hero-subtitle').innerHTML = '';
      document.getElementById('banner-badge').innerHTML = '<span class="text-muted">Loading...</span>';
      document.getElementById('banner-message').innerHTML = '';
      document.getElementById('banner-terms').innerHTML = '';
      document.getElementById('banner-button').innerHTML = '';
      document.getElementById('horizon-title').innerHTML = '<span class="text-muted">Loading...</span>';
      document.getElementById('horizon-desc').innerHTML = '';
      document.getElementById('forest-title').innerHTML = '<span class="text-muted">Loading...</span>';
      document.getElementById('forest-desc').innerHTML = '';
      document.getElementById('mealplan-heading').innerHTML = '<span class="text-muted">Loading...</span>';
      document.getElementById('mealplan-horizon-title').innerHTML = '';
      document.getElementById('mealplan-horizon-desc').innerHTML = '';
      document.getElementById('mealplan-forest-title').innerHTML = '';
      document.getElementById('mealplan-forest-desc').innerHTML = '';

      fetch('https://cascadia-editor.onrender.com/api/get-content')
      .then(r => r.json())
      .then(data => {
      if (data.hero_title) document.getElementById('hero-title').innerHTML = data.hero_title;
      if (data.hero_subtitle) document.getElementById('hero-subtitle').innerHTML = data.hero_subtitle;
      if (data.banner_badge) document.getElementById('banner-badge').innerHTML = data.banner_badge;
      if (data.banner_message) document.getElementById('banner-message').innerHTML = data.banner_message;
      if (data.banner_terms) document.getElementById('banner-terms').innerHTML = data.banner_terms;
      if (data.banner_button) document.getElementById('banner-button').innerHTML = data.banner_button;
      if (data.horizon_title) document.getElementById('horizon-title').innerHTML = data.horizon_title;
      if (data.horizon_desc) document.getElementById('horizon-desc').innerHTML = data.horizon_desc;
      if (data.forest_title) document.getElementById('forest-title').innerHTML = data.forest_title;
      if (data.forest_desc) document.getElementById('forest-desc').innerHTML = data.forest_desc;
      if (data.mealplan_heading) document.getElementById('mealplan-heading').innerHTML = data.mealplan_heading;
      if (data.mealplan_horizon_title) document.getElementById('mealplan-horizon-title').innerHTML = data.mealplan_horizon_title;
      if (data.mealplan_horizon_desc) document.getElementById('mealplan-horizon-desc').innerHTML = data.mealplan_horizon_desc;
      if (data.mealplan_forest_title) document.getElementById('mealplan-forest-title').innerHTML = data.mealplan_forest_title;
      if (data.mealplan_forest_desc) document.getElementById('mealplan-forest-desc').innerHTML = data.mealplan_forest_desc;
      
      // Store meal plan tables for use in the meal plan section
      window.mealPlanDetails = data;
      
      // Render FAQ dynamically
      function renderFaq(faqArr) {
      const faqAccordion = document.getElementById('faqAccordion');
      if (!Array.isArray(faqArr) || faqArr.length === 0) {
      faqAccordion.innerHTML = '<div class="text-muted">No FAQs available at this time.</div>';
      return;
      }
      let html = '';
      faqArr.forEach((item, idx) => {
      const collapseId = `faq${idx}`;
      const headingId = `faq${idx}-heading`;
      html += `<div class="accordion-item">
      <h2 class="accordion-header" id="${headingId}">
      <button class="accordion-button${idx === 0 ? '' : ' collapsed'}" type="button" data-bs-toggle="collapse" data-bs-target="#${collapseId}" aria-expanded="${idx === 0 ? 'true' : 'false'}" aria-controls="${collapseId}">
      ${item.question ? item.question : 'Untitled Question'}
      </button>
      </h2>
      <div id="${collapseId}" class="accordion-collapse collapse${idx === 0 ? ' show' : ''}" aria-labelledby="${headingId}" data-bs-parent="#faqAccordion">
      <div class="accordion-body">
      ${item.answer ? item.answer : ''}
      </div>
      </div>
      </div>`;
      });
      faqAccordion.innerHTML = html;
      }
      
      if (Array.isArray(data.faq)) {
      renderFaq(data.faq);
      } else {
      renderFaq([]);
      }
      })
        .catch(() => {
          document.getElementById('hero-title').innerHTML = '<span class="text-danger">Could not load content.</span>';
          document.getElementById('banner-badge').innerHTML = '<span class="text-danger">Could not load content.</span>';
          document.getElementById('horizon-title').innerHTML = '<span class="text-danger">Could not load content.</span>';
          document.getElementById('forest-title').innerHTML = '<span class="text-danger">Could not load content.</span>';
          document.getElementById('mealplan-heading').innerHTML = '<span class="text-danger">Could not load content.</span>';
          document.getElementById('faqAccordion').innerHTML = '<div class="text-danger">Could not load FAQ.</div>';
        });
    });
    </script>
    <!-- Calendly Widget Scripts -->
    <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
    <script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Floorplan modal functionality
        var floorplanModal = document.getElementById('floorplanModal');
        var modalImg = document.getElementById('modalFloorplanImg');
        var modalLabel = document.getElementById('floorplanModalLabel');
        if (floorplanModal) {
            floorplanModal.addEventListener('show.bs.modal', function (event) {
                var trigger = event.relatedTarget;
                var imgSrc = trigger.getAttribute('data-img');
                var caption = trigger.getAttribute('data-caption');
                modalImg.src = imgSrc;
                modalImg.alt = caption;
                modalLabel.textContent = caption;
            });
        }
        // Meal Plan Section Interactivity
        let mealPlanDetails = {};
        // Removed fetch('content.json') and all related logic. Meal plan click handler should use window.mealPlanDetails set from the API response.
        document.querySelectorAll('.mealplan-box').forEach(function(box) {
          box.addEventListener('click', function() {
            const mealType = this.getAttribute('data-meal');
            const details = document.getElementById('mealplan-details');
            function renderMealPlanTable(tableData, title) {
              let html = `<div class="uhd-card text-center p-4">`;
              if (title) html += `<h3 class="fw-bold mb-3" style="color:#2d1e4a;">${title}</h3>`;
              if (!tableData || !tableData.length) {
                html += '<div class="text-muted">No meal plans available for this hall.</div></div>';
                return html;
              }
              html += `<table class="table table-bordered align-middle mb-3"><thead class="table-light"><tr><th>Plan Name</th><th>Quarterly Cost</th><th>Details</th></tr></thead><tbody>`;
              tableData.forEach(row => {
                html += `<tr><td>${row.plan}</td><td>${row.cost}</td><td>${row.details}</td></tr>`;
              });
              html += '</tbody></table></div>';
              return html;
            }
            if (mealType === 'horizon') {
              details.innerHTML = renderMealPlanTable(window.mealPlanDetails.mealplan_horizon_table || [], window.mealPlanDetails.mealplan_horizon_title || '');
            } else if (mealType === 'forest') {
              details.innerHTML = renderMealPlanTable(window.mealPlanDetails.mealplan_forest_table || [], window.mealPlanDetails.mealplan_forest_title || '');
            }
            details.style.display = 'block';
            // Adjusted scroll: scroll to the meal plan section heading
            const section = document.getElementById('mealplans');
            const yOffset = -80; // offset for fixed navbar
            const y = section.getBoundingClientRect().top + window.pageYOffset + yOffset;
            window.scrollTo({top: y, behavior: 'smooth'});
          });
        });
        // Calendly tour scheduler
        var scheduleTourBtn = document.getElementById('scheduleTourBtn');
        if(scheduleTourBtn) {
            scheduleTourBtn.addEventListener('click', function() {
                Calendly.initPopupWidget({ 
                    url: 'https://calendly.com/brian-strider-cardinalgroup/residential-village-tour-scheduler' 
                });
            });
        }
        // Dynamically load all images from ./images/slideshow into the carousel
        const slideshowDir = './images/slideshow/';
        const imageFilenames = [
            'Residential_020_Exterior.webp',
            'Residential_022_OutdoorDining.webp',
            'Residential_024_Lounge.webp',
            'Residential_026_LivingRoom.webp',
            'Residential_041_Study.webp'
        ];
        const carouselInner = document.getElementById('slideshow-carousel-inner');
        if (carouselInner) {
            imageFilenames.forEach((filename, idx) => {
                const div = document.createElement('div');
                div.className = 'carousel-item' + (idx === 0 ? ' active' : '');
                const img = document.createElement('img');
                img.src = slideshowDir + filename;
                img.className = 'd-block w-100';
                img.alt = 'Horizon Hall ' + filename.replace('.webp', '');
                div.appendChild(img);
                carouselInner.appendChild(div);
            });
        }
    });
    </script>
    <!-- Footer -->
    <footer class="uhd-footer">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-3 text-center text-md-start mb-3 mb-md-0">
            <a href="https://residentialvillage.com/">
              <img src="/Cascadia-College-Students/images/RVlogo-white.png" alt="Residential Village Logo" class="footer-logo">
            </a>
              <a href="https://www.cascadia.edu/">
              <img src="/Cascadia-College-Students/images/Cascadia Logo.jpg" alt="Cascadia-College Logo" class="footer-logo">
            </a>
          </div>
          <div class="col-md-6 text-center mb-3 mb-md-0">
            <div>
              <strong>Residential Village</strong><br>
              18612 Beardslee Blvd, Bothell, WA 98011<br>
              <a href="mailto:info@residentialvillage.com">info@residentialvillage.com</a>
            </div>
            <div class="mt-2 footer-social">
              <a href="https://www.instagram.com/theresidentialvillage/"><i class="bi bi-instagram"></i></a><a href="https://www.facebook.com/theresidentialvillage/"><i class="bi bi-facebook"></i></a>
            </div>
          </div>
          <div class="col-md-3 text-center text-md-end">
            <div>
              <a href="https://cardinalgroup.com/disclosures-licenses/" style="font-size:0.95rem;">Disclosures and Licenses</a><br>
              <a href="https://cardinalgroup.com/privacy-policy/" style="font-size:0.95rem;">Privacy Policy</a>
            </div>
            <div class="mt-2" style="font-size:0.95rem;">
              &copy; 2024 Residential Village. All rights reserved.
            </div>
          </div>
        </div>
      </div>
    </footer>
<script type="text/javascript">
    window.keyChatWidgetConfig = { propertyUID : 'f8ca2f8fa8754ee080e6eac5c4be0943' };
  </script>
  <script src="https://www.keytexting.com/assets/livechat.js"></script>
</body>
</html>
